{"ast":null,"code":"'use strict';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nvar OTKAnalytics = require('opentok-solutions-logging');\n\n// eslint-disable-next-line no-console\nvar message = function message(messageText) {\n  return console.log('otAccCore: ' + messageText);\n};\n\n/** Analytics */\n\nvar logVariation = {\n  attempt: 'Attempt',\n  success: 'Success',\n  fail: 'Fail'\n};\nvar logAction = {\n  // vars for the analytics logs. Internal use\n  init: 'Init',\n  initPackages: 'InitPackages',\n  connect: 'ConnectCoreAcc',\n  disconnect: 'DisconnectCoreAcc',\n  forceDisconnect: 'ForceDisconnectCoreAcc',\n  forceUnpublish: 'ForceUnpublishCoreAcc',\n  getAccPack: 'GetAccPack',\n  signal: 'SignalCoreAcc',\n  startCall: 'StartCallCoreAcc',\n  endCall: 'EndCallCoreAcc',\n  toggleLocalAudio: 'ToggleLocalAudio',\n  toggleLocalVideo: 'ToggleLocalVideo',\n  toggleRemoteAudio: 'ToggleRemoteAudio',\n  toggleRemoteVideo: 'ToggleRemoteVideo',\n  subscribe: 'SubscribeCoreAcc',\n  unsubscribe: 'UnsubscribeCoreAcc'\n};\nvar Analytics = function Analytics(source, sessionId, connectionId, apikey, applicationName) {\n  _classCallCheck(this, Analytics);\n  _initialiseProps.call(this);\n  var otkanalyticsData = {\n    clientVersion: 'js-vsol-2.0.20',\n    // x.y.z filled by npm build script\n    source: source,\n    componentId: 'acceleratorCore',\n    name: applicationName || 'coreAccelerator',\n    partnerId: apikey\n  };\n  this.analytics = new OTKAnalytics(otkanalyticsData);\n  if (connectionId) {\n    this.update(sessionId, connectionId, apikey);\n  }\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n  Object.defineProperty(this, 'update', {\n    enumerable: true,\n    writable: true,\n    value: function value(sessionId, connectionId, apiKey) {\n      if (sessionId && connectionId && apiKey) {\n        var sessionInfo = {\n          sessionId: sessionId,\n          connectionId: connectionId,\n          partnerId: apiKey\n        };\n        _this.analytics.addSessionInfo(sessionInfo);\n      }\n    }\n  });\n  Object.defineProperty(this, 'log', {\n    enumerable: true,\n    writable: true,\n    value: function value(action, variation) {\n      _this.analytics.logEvent({\n        action: action,\n        variation: variation\n      });\n    }\n  });\n};\nmodule.exports = {\n  Analytics: Analytics,\n  logVariation: logVariation,\n  logAction: logAction,\n  message: message\n};","map":{"version":3,"names":["_classCallCheck","instance","Constructor","TypeError","OTKAnalytics","require","message","messageText","console","log","logVariation","attempt","success","fail","logAction","init","initPackages","connect","disconnect","forceDisconnect","forceUnpublish","getAccPack","signal","startCall","endCall","toggleLocalAudio","toggleLocalVideo","toggleRemoteAudio","toggleRemoteVideo","subscribe","unsubscribe","Analytics","source","sessionId","connectionId","apikey","applicationName","_initialiseProps","call","otkanalyticsData","clientVersion","componentId","name","partnerId","analytics","update","_this","Object","defineProperty","enumerable","writable","value","apiKey","sessionInfo","addSessionInfo","action","variation","logEvent","module","exports"],"sources":["/home/awolf/WebstormProjects/accelerator-sample-apps-js/react-sample-app/node_modules/opentok-accelerator-core/dist/logging.js"],"sourcesContent":["'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar OTKAnalytics = require('opentok-solutions-logging');\n\n// eslint-disable-next-line no-console\nvar message = function message(messageText) {\n  return console.log('otAccCore: ' + messageText);\n};\n\n/** Analytics */\n\nvar logVariation = {\n  attempt: 'Attempt',\n  success: 'Success',\n  fail: 'Fail'\n};\n\nvar logAction = {\n  // vars for the analytics logs. Internal use\n  init: 'Init',\n  initPackages: 'InitPackages',\n  connect: 'ConnectCoreAcc',\n  disconnect: 'DisconnectCoreAcc',\n  forceDisconnect: 'ForceDisconnectCoreAcc',\n  forceUnpublish: 'ForceUnpublishCoreAcc',\n  getAccPack: 'GetAccPack',\n  signal: 'SignalCoreAcc',\n  startCall: 'StartCallCoreAcc',\n  endCall: 'EndCallCoreAcc',\n  toggleLocalAudio: 'ToggleLocalAudio',\n  toggleLocalVideo: 'ToggleLocalVideo',\n  toggleRemoteAudio: 'ToggleRemoteAudio',\n  toggleRemoteVideo: 'ToggleRemoteVideo',\n  subscribe: 'SubscribeCoreAcc',\n  unsubscribe: 'UnsubscribeCoreAcc'\n};\n\nvar Analytics = function Analytics(source, sessionId, connectionId, apikey, applicationName) {\n  _classCallCheck(this, Analytics);\n\n  _initialiseProps.call(this);\n\n  var otkanalyticsData = {\n    clientVersion: 'js-vsol-2.0.20', // x.y.z filled by npm build script\n    source: source,\n    componentId: 'acceleratorCore',\n    name: applicationName || 'coreAccelerator',\n    partnerId: apikey\n  };\n\n  this.analytics = new OTKAnalytics(otkanalyticsData);\n\n  if (connectionId) {\n    this.update(sessionId, connectionId, apikey);\n  }\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this = this;\n\n  Object.defineProperty(this, 'update', {\n    enumerable: true,\n    writable: true,\n    value: function value(sessionId, connectionId, apiKey) {\n      if (sessionId && connectionId && apiKey) {\n        var sessionInfo = {\n          sessionId: sessionId,\n          connectionId: connectionId,\n          partnerId: apiKey\n        };\n        _this.analytics.addSessionInfo(sessionInfo);\n      }\n    }\n  });\n  Object.defineProperty(this, 'log', {\n    enumerable: true,\n    writable: true,\n    value: function value(action, variation) {\n      _this.analytics.logEvent({ action: action, variation: variation });\n    }\n  });\n};\n\nmodule.exports = {\n  Analytics: Analytics,\n  logVariation: logVariation,\n  logAction: logAction,\n  message: message\n};"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}