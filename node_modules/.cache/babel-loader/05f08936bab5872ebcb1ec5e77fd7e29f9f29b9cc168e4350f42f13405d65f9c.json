{"ast":null,"code":"// Livestamp.js / v2.0.0 / (c) 2015 Matt Bradley / MIT License\n(function (plugin) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery', 'moment'], plugin);\n  } else {\n    // Browser globals\n    plugin(jQuery, moment);\n  }\n})(function ($, moment) {\n  var updateInterval = 1e3,\n    paused = false,\n    $livestamps = $([]),\n    init = function () {\n      livestampGlobal.resume();\n    },\n    prep = function ($el, timestamp) {\n      var oldData = $el.data('livestampdata');\n      if (typeof timestamp == 'number') timestamp *= 1e3;\n      $el.removeAttr('data-livestamp').removeData('livestamp');\n      timestamp = moment(timestamp);\n      if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n        var newData = $.extend({}, {\n          'original': $el.contents()\n        }, oldData);\n        newData.moment = moment(timestamp);\n        $el.data('livestampdata', newData).empty();\n        $livestamps.push($el[0]);\n      }\n    },\n    run = function () {\n      if (paused) return;\n      livestampGlobal.update();\n      setTimeout(run, updateInterval);\n    },\n    livestampGlobal = {\n      update: function () {\n        $('[data-livestamp]').each(function () {\n          var $this = $(this);\n          prep($this, $this.data('livestamp'));\n        });\n        var toRemove = [];\n        $livestamps.each(function () {\n          var $this = $(this),\n            data = $this.data('livestampdata');\n          if (data === undefined) toRemove.push(this);else if (moment.isMoment(data.moment)) {\n            var from = $this.html(),\n              to = data.moment.fromNow();\n            if (from != to) {\n              var e = $.Event('change.livestamp');\n              $this.trigger(e, [from, to]);\n              if (!e.isDefaultPrevented()) $this.html(to);\n            }\n          }\n        });\n        $livestamps = $livestamps.not(toRemove);\n        delete $livestamps.prevObject;\n      },\n      pause: function () {\n        paused = true;\n      },\n      resume: function () {\n        paused = false;\n        run();\n      },\n      interval: function (interval) {\n        if (interval === undefined) return updateInterval;\n        updateInterval = interval;\n      }\n    },\n    livestampLocal = {\n      add: function ($el, timestamp) {\n        if (typeof timestamp == 'number') timestamp *= 1e3;\n        timestamp = moment(timestamp);\n        if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n          $el.each(function () {\n            prep($(this), timestamp);\n          });\n          livestampGlobal.update();\n        }\n        return $el;\n      },\n      destroy: function ($el) {\n        $livestamps = $livestamps.not($el);\n        $el.each(function () {\n          var $this = $(this),\n            data = $this.data('livestampdata');\n          if (data === undefined) return $el;\n          $this.html(data.original ? data.original : '').removeData('livestampdata');\n        });\n        return $el;\n      },\n      isLivestamp: function ($el) {\n        return $el.data('livestampdata') !== undefined;\n      }\n    };\n  $.livestamp = livestampGlobal;\n  $(init);\n  $.fn.livestamp = function (method, options) {\n    if (!livestampLocal[method]) {\n      options = method;\n      method = 'add';\n    }\n    return livestampLocal[method](this, options);\n  };\n});","map":{"version":3,"names":["plugin","define","amd","jQuery","moment","$","updateInterval","paused","$livestamps","init","livestampGlobal","resume","prep","$el","timestamp","oldData","data","removeAttr","removeData","isMoment","isNaN","newData","extend","contents","empty","push","run","update","setTimeout","each","$this","toRemove","undefined","from","html","to","fromNow","e","Event","trigger","isDefaultPrevented","not","prevObject","pause","interval","livestampLocal","add","destroy","original","isLivestamp","livestamp","fn","method","options"],"sources":["/home/awolf/WebstormProjects/accelerator-sample-apps-js/react-sample-app/node_modules/kuende-livestamp/livestamp.js"],"sourcesContent":["// Livestamp.js / v2.0.0 / (c) 2015 Matt Bradley / MIT License\n(function (plugin) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery', 'moment'], plugin);\n  } else {\n    // Browser globals\n    plugin(jQuery, moment);\n  }\n}(function($, moment) {\n  var updateInterval = 1e3,\n      paused = false,\n      $livestamps = $([]),\n\n  init = function() {\n    livestampGlobal.resume();\n  },\n\n  prep = function($el, timestamp) {\n    var oldData = $el.data('livestampdata');\n    if (typeof timestamp == 'number')\n      timestamp *= 1e3;\n\n    $el.removeAttr('data-livestamp')\n      .removeData('livestamp');\n\n    timestamp = moment(timestamp);\n    if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n      var newData = $.extend({ }, { 'original': $el.contents() }, oldData);\n      newData.moment = moment(timestamp);\n\n      $el.data('livestampdata', newData).empty();\n      $livestamps.push($el[0]);\n    }\n  },\n\n  run = function() {\n    if (paused) return;\n    livestampGlobal.update();\n    setTimeout(run, updateInterval);\n  },\n\n  livestampGlobal = {\n    update: function() {\n      $('[data-livestamp]').each(function() {\n        var $this = $(this);\n        prep($this, $this.data('livestamp'));\n      });\n\n      var toRemove = [];\n      $livestamps.each(function() {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n\n        if (data === undefined)\n          toRemove.push(this);\n        else if (moment.isMoment(data.moment)) {\n          var from = $this.html(),\n              to = data.moment.fromNow();\n\n          if (from != to) {\n            var e = $.Event('change.livestamp');\n            $this.trigger(e, [from, to]);\n            if (!e.isDefaultPrevented())\n              $this.html(to);\n          }\n        }\n      });\n\n      $livestamps = $livestamps.not(toRemove);\n      delete $livestamps.prevObject\n    },\n\n    pause: function() {\n      paused = true;\n    },\n\n    resume: function() {\n      paused = false;\n      run();\n    },\n\n    interval: function(interval) {\n      if (interval === undefined)\n        return updateInterval;\n      updateInterval = interval;\n    }\n  },\n\n  livestampLocal = {\n    add: function($el, timestamp) {\n      if (typeof timestamp == 'number')\n        timestamp *= 1e3;\n      timestamp = moment(timestamp);\n\n      if (moment.isMoment(timestamp) && !isNaN(+timestamp)) {\n        $el.each(function() {\n          prep($(this), timestamp);\n        });\n        livestampGlobal.update();\n      }\n\n      return $el;\n    },\n\n    destroy: function($el) {\n      $livestamps = $livestamps.not($el);\n      $el.each(function() {\n        var $this = $(this),\n            data = $this.data('livestampdata');\n\n        if (data === undefined)\n          return $el;\n\n        $this\n          .html(data.original ? data.original : '')\n          .removeData('livestampdata');\n      });\n\n      return $el;\n    },\n\n    isLivestamp: function($el) {\n      return $el.data('livestampdata') !== undefined;\n    }\n  };\n\n  $.livestamp = livestampGlobal;\n  $(init);\n  $.fn.livestamp = function(method, options) {\n    if (!livestampLocal[method]) {\n      options = method;\n      method = 'add';\n    }\n\n    return livestampLocal[method](this, options);\n  };\n}));\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}